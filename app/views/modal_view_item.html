<button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="close()"></button>

<div class="aside">
    <div class="padding">
        <h3>{{ category.title }} #{{ item.id }}</h3>
    </div>

    <ul class="nav nav-pills nav-stacked">
        <li ng-class="{active: currentTab == 0}" id="modal-informacoes"><a href="" ng-click="currentTab = 0">Informações</a></li>
        <li ng-class="{active: currentTab == 1}" id="modal-solicitacoes"><a href="" ng-click="currentTab = 1">Solicitações</a></li>
    </ul>
</div>

<div class="informacoes" ng-show="currentTab == 0">
    <!--<div class="left_column">-->
        <div class="padding">
            <div ng-repeat="section in category.sections">
              <div class="separator">{{ section.title }}</div>

              <div ng-repeat="field in section.fields">
                  <h1 ng-show="field.label == null">{{ field.title }}</h1>
                  <h1 ng-hide="field.label == null">{{ field.label }}</h1>
                  <p>{{ getDataByInventoryFieldId(field.id) }}</p>
              </div>
            </div>
        </div>
    <!--</div>-->

    <!--
    <div class="right_column">
        <img src="images/infos/bocalobo4.jpg">

        <div class="thumbnails">
            <img src="images/infos/bocalobo4.jpg">
            <img src="images/infos/bocalobo4.jpg">
            <img src="images/infos/bocalobo4.jpg">
        </div>
    </div>
    -->
</div>

<div class="col-xs-9 loadingReports" ng-show="loadingReports && currentTab == 1">
  <span>Carregando...</span>
</div>

<div class="col-xs-9 loadingReports" ng-show="reports.length == 0 && currentTab == 1">
  <span>Não existem solicitações para este item.</span>
</div>

<div class="col-xs-4 solicitacoes" ng-hide="loadingReports || reports.length == 0 || currentTab != 1">
    <ul class="nav nav-pills nav-stacked">
        <li ng-repeat="report in reports" ng-class="{ active: report == currentReport }"><a href="" ng-click="viewReport(report)"><span class="ball_status" ng-style="{'background-color': report.status.color }"></span> {{ report.category.title }} <span class="time">{{ report.created_at | date: 'dd/MM/yy HH:mm'}}</span></a></li>
    </ul>
</div>

<div class="solicitacao" ng-hide="loadingReports || reports.length == 0 || currentTab != 1">
    <div class="padding">
      <h1>Protocolo {{ currentReport.protocol }}</h1>
      <hr />
      <span class="aberto" ng-style="{'background-color': currentReport.status.color }">{{ currentReport.status.title }}</span>
      <h2>{{ currentReport.category.title }}</h2>
      <p class="muted">{{ currentReport.address }}</p>
      <b>Enviada {{ currentReport.created_at | date: 'dd/MM/yy HH:mm'}}</b>

      <carousel id="carousel" class="carousel" ng-hide="currentReport.images.length == 0">
        <slide class="item" ng-repeat="image in currentReport.images">
            <img ng-src="{{ image.high }}">
        </slide>
      </carousel><!--/.carousel -->

      <div class="slide" ng-show="currentReport.images.length == 0">
        <div class="item">
          <img ng-src="http://maps.googleapis.com/maps/api/staticmap?size=420x340&maptype=roadmap\&markers=icon:http://zup-images.s3.amazonaws.com/uploads/reports/category/1/markers/default_web_icon_bocalobo_2x.png|{{ currentReport.position.latitude }},{{ currentReport.position.longitude }}&sensor=false">
        </div>
      </div>

      <p class="desc">{{ currentReport.description }}</p>
      <!--<a href="#" class="desc">Ver detalhes da boca de lobo 28728472</a>-->
    </div>
</div>
